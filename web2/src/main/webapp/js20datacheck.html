<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>개인 자료 입력</title>
<link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">
window.onload = () => {
	document.querySelector("#btnSend").onclick = chkDataFunc;
	document.querySelector("#btnClear").onclick = clearFunc;
	
	function chkDataFunc(e) {
		e.preventDefault(); // submit 기능 해제
		if(frm.name.value === "" || isNaN(frm.name.value) === false) { // 공백 또는 숫자만 입력된 경우
			frm.name.focus(); // 다시 이름에 입력 돌아감
			alert("이름 입력 오류");
			return;
		}
		if(frm.id.value.length < 3) { // 공백 또는 숫자만 입력된 경우
			frm.name.focus(); // 다시 이름에 입력 돌아감
			alert("아이디는 3자 이상");
			return;
		}
		const regExp = /[0-9a-zA-Z][_0-9a-zA-Z-]*@[_0-9a-zA-Z-]+(\.[_0-9a-zA-Z-]+){1,2}$/;
		if(!frm.email.value.match(regExp)) {
			alert("이메일을 정확히 입력하세요");
			frm.email.focus();
			return;
		}
		// 정규표현식 : 여러 용도 중 입력자료 오류 확인 시에도 많이 활용
		let str = "1234Abc가나다45배 asdf1 23고파 *&^~!@#";
		console.log(str.match(/[1]/)); // 문자열.match(/정규표현식/) : 일치하는 값 찾기
		console.log(str.match(/[1]/g)); // 해당되는 모든 값을 반환
		console.log(str.match(/[0-9]/g)); //숫자만
		console.log(str.match(/\d/g)); //숫자만
		console.log(str.match(/\D/g)); // 숫자는 제외
		console.log(str.match(/[가고]/g));
		console.log(str.match(/[가-힣]/g)); // 한글만
		console.log(str.match(/[가-힣]+/g)); // 연속된 한글 한줄로 출력
		console.log(str.match(/\d{2}/g)); // 2글자씩 끊어져서 나옴
		console.log(str.match(/\d{2,3}/g)); // 2글자 3글자만 4글자면 한글자 자르고 나옴
		
		// 이메일 정규표현식 검사(abc@abc.com)
		const regExp2 = /^[0-9]{1,2}$/;
		if(!frm.age.value.match(regExp2)) {
			alert("나이를 정확히 입력하세요");
			frm.age.focus();
			return;
		}
		document.frm.action="js20form.jsp";
		frm.method="get";
		frm.submit();
	}
	
	function clearFunc() {
		document.querySelector("name").focus();
	}
}
</script>
</head>
<body>
<!-- <form action="js20form.jsp" name="frm" method="get">  -->
<form name="frm">
<table>
	<tr>
		<td>이 름</td>
		<td><input type="text" name="name" id="name" value="홍길동"></td>
	</tr>
	<tr>
		<td>아이디</td>
		<td><input type="text" name="id" id="id" placeholder="3글자 이상" value="123"></td>
	</tr>
	<tr>
		<td>이메일</td>
		<td><input type="text" name="email" id="email"></td>
	</tr>
	<tr>
		<td>나 이</td>
		<td><input type="text" name="age" id="age" maxlength="2"></td>
	</tr>
	<tr>
		<td colspan="2" style="text-align: center ">
		<input type="submit" id="btnSend" value="자료 전송">
		<input type="reset" id="btnClear" value="자료 초기화">
		</td>
	</tr>
</table>
</form>
<!-- 대화 상자(Modal) 띄우기 -->
<div class="modal" tabindex="-1" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Modal body text goes here.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">대화상자</button>
</body>
</html>